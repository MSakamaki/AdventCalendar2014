## これは [Material Design Advent Calendar 2014](http://www.adventar.org/calendars/495) ４日目の記事です。

今回はMaterial Desineの[Objects in 3D space](http://www.google.com/design/spec/what-is-material/objects-in-3d-space.html)を取り上げます。

## 三次元空間に存在するオブジェクト

現実世界とマテリアルデザインのオブジェクトは共通の類似点が存在します。

現実世界では、オブジェクトを固めたり、積み重ねる事ができ、そのときに同じ空間を占めるような重なり方は起こりません。

オブジェクトは光を当てると影を描画し、光を反射します。

こういった特徴は、マテリアルデザインに存在するオブジェクトすべてに当てはまり、空間を意識させるモデルを作るのに役立ちます。 

そしてそれは、ユーザーに親しみのある方法で、常にアプリケーション全体に適用する事が出来ます。


---

マテリアルデザインの重要な要素の一つとして、マテリアルを現実の物に例えるため、マテリアルは違和感のない３次元空間の振る舞いを要求されます。

その要素の一つとして、次の「高度(z軸の振る舞い)」をどう表現して行くかが重要となってくるようです。


### Elevation(エレベーション)(高度)

_ここでは、原文のElevationを実際にどう訳していいのか判らなかった為、Elevation(エレベーション)と表記します。_

Elevationは親となる存在からZ軸方向に向けての相対位置です。

Elevationは親子間オブジェクトの相対距離です。

Elevationは一般的にx軸やy軸同じように、端末に依存しないピクセル (dps)単位で計測されます。

マテリアルは、必ず1dpの厚さを有しています、そして、すべてのElevation計測は、オブジェクトの上面から別オブジェクトの上面までの距離で行います。

![Image](https://raw.githubusercontent.com/MSakamaki/AdventCalendar2014/master/img/007.png)


#### 静止状態のエレベーション

すべてのマテリアルオブジェクトは通常状態でのElevationを持っています。 

マテリアルオブジェクトは、小さなコンポーネント、またはディスプレイ全体にまたがるシートをさします。

![Image](https://raw.githubusercontent.com/MSakamaki/AdventCalendar2014/master/img/008.png)

静的な状態では、オブジェクトの標準Elevationは変更されません。

その値はアプリケーション全体で一定です。

もし、そのオブジェクトのElevationが変更された場合、それは出来るだけ早くその標準Elevationの高さに戻す必要があります。

![Image](https://raw.githubusercontent.com/MSakamaki/AdventCalendar2014/master/img/009.png)

#### 反応を返すエレベーションと振る舞いを表現するエレベーション

指定されたコンポーネントの静止座標はプラットフォーム全体を通して同じです。

しかし、同じコンポーネントでも、奥行きの深さに応じて他のプラットフォームとは異なる静止座標を持っている可能性があります。

（例：テレビはモバイルやデスクトップよりも深さを表現できます。）

![Image](https://raw.githubusercontent.com/MSakamaki/AdventCalendar2014/master/img/010.png)

##### 反応または振る舞いを表現する高度

特定のコンポーネントはユーザーの入力またはシステムイベントに応じて、高度(elevation)を変更するための振る舞いを持ちます。

様々なコンポーネントの状態(例：通常時、注目してほしい時、押下された時..等)に応じて反応を返し、振る舞いを表現する高度(elevation)の変更を行います。

これらは、特定のアクションに基づいたElevationの変化が、コンポーネント毎に統一されていることに留意しておいてください。

例えば、押す/離すなどをしたとき、同一種のコンポーネントは静止/現在のElevationを基準として、同じElevationの変更が発生します。

入力イベントが完了するかまたは取り消されると、コンポーネントはその静止標高に戻ります。

![Image](https://raw.githubusercontent.com/MSakamaki/AdventCalendar2014/master/img/011.png)

Elevationを変更させた際に発生するふるまい差分(オフセット)は、コンポーネントの静止状態から、指定されたコンポーネントの静止状態Elevationに向かって移動する動きになります。

#### 機能的な影

影は、空間内のオブジェクトの位置に関するいくつかの重要な見た目の印象を与えます。
つまり影が、表面から浮き上がる表現を視覚的に伝えるアフォーダンスになります。
オブジェクトのElevationが、影の見た目を決定します。

![Image](https://raw.githubusercontent.com/MSakamaki/AdventCalendar2014/master/img/012.png)


 * (左)影が無い場合、フローティングアクションボタンは、背景から独立した存在であることを示せません。

 * (中)鮮明な影は、フローティングアクションボタンとアプリケーションバーの両方が背景に凄い近い位置に浮いている、独立した存在である事を示せます。

 * (右)淡く大きな影は、フローティングアクションボタンがアプリケーションバーよりかなり高い位置にある事を示せます。

また、「動き」では、影の振る舞いがオブジェクトの動きについての視覚的手がかりを提供します。
これは底面から離れてる、または近づいているかどうかを示すための重要な機能です。

![Image](https://raw.githubusercontent.com/MSakamaki/AdventCalendar2014/master/img/013.png)

 * (左)影がElevationの変化を見せなければ、この丸いオブジェクトが同じ高さに居るように見せます。もしくは、その高が変化しているかが不明な状態です。

 * (中)影はオブジェクトのElevationが高いほど柔らかくて大きくなるります、対してElevationが低くなると、鮮明にかつ小さくなります。

 * (右)このような機能は、ユーザーに対して、高さが変わっているのではなく、オブジェクトのサイズが変更されている等の変化を知らせるのに役立ちます。

### オブジェクトの相互関係

アプリケーション全体を通してオブジェクトやその集合が、どのように関連してどのように動くかは、オブジェクトのグループ単位で決まります。
オブジェクトは互いに独立して動く事ができますが、振る舞いはコンテナの中でルールづけられ、コンテナに依存します。
コンテナオブジェクトは親子関係をもちます。
そして、すべてのオブジェクトは一つの親を持つか、また一つ以上の子供を持っている場合があります


子供となるオブジェクトは位置や回転、拡大や高さなどの振る舞いを親から継承します。
たとえば、すべてのカードが一緒に移動する「カード一覧」の場合、「カード」同士が兄弟となり、そのカードは「カード一覧コンテナ」の子供になります。
親子の関係は、オブジェクトとオブジェクトのグループが互いにどのように振る舞うかをルールづけます。

例えば、子供は親からの最低限のz軸の間隔を持ちます。
また、この親子関係の間に、あらたなオブジェクトは入り込めません。

![Image](https://raw.githubusercontent.com/MSakamaki/AdventCalendar2014/master/img/014.png)

 * 子属性となる浮き上がったボタンは、親コンテンツがスクロールするのに合わせて同じようにスクロールします。

![Image](https://raw.githubusercontent.com/MSakamaki/AdventCalendar2014/master/img/015.png)

 * （親属性となる）フローティング状態のアクションボタンは所定の位置に残りつつ、(関連を持つ、または子属性の）カードは画面外にスクロールして行きます。


### 最後に

ざっくり説明すると、Objects in 3D space(三次元空間に存在するオブジェクト)は、２次元のディスプレイに、Elevation(高さ)を持たせて擬似的に３次元を表現しようと言う考えです。

それを実現する手段として、影を利用して、より論理的にかつなるべく現実にそったルールを用いて設計/適用して行こうと言う話かと。

個人的に、What Is Materialにあるこの章と、のこり２つの章[Environment](http://albatrosary.hateblo.jp/entry/2014/12/02/102734)[Material properties](http://albatrosary.hateblo.jp/entry/2014/12/03/074650)は、それぞれマテリアルデザインを実現する為に、とても大切になる考えであり

ここを理解できてるか否かでマテリアルデザインを実現する為のフレームワークの使い方への理解が、より深まるのではと思っています。



